plugins {
    id 'io.micronaut.build.internal.pulsar-module'
}

dependencies {
    annotationProcessor mn.micronaut.inject.java
    annotationProcessor "io.micronaut.docs:micronaut-docs-asciidoc-config-props:$micronautDocsVersion"

    api mn.micronaut.inject
    api mn.micronaut.messaging
    api libs.pulsar

    compileOnly "jakarta.inject:jakarta.inject-api"
    compileOnly "org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlinCoroutinesVersion"
    compileOnly 'com.google.protobuf:protobuf-java:3.20.1'
    compileOnly 'io.micronaut.reactor:micronaut-reactor'
    compileOnly 'io.micronaut.grpc:micronaut-protobuff-support:3.1.3'
}

test {
    jvmArgs '-Duser.country=US'
    jvmArgs '-Duser.language=en'
    testLogging {
        showStandardStreams = true
        exceptionFormat = 'full'
    }
    failFast = true
}

repositories {
    mavenCentral()
}
